<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
  <head>
    <title>cards</title>
    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src="cards.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="cards.css"/>
  </head>
  <body>
    <script type="text/javascript">
      var d = new Deck();
      var card;
      d.shuffle();
      //d.dump();
      for(var j = 0; j < 4; j++) {
        for(var i = 0; i < 13; i++) {
          card = d.cards[j*13+i];
          card.div = card.draw(i*80+2, j*111+2);
          //div.innerText = "\n\n" + Card.ranks[d.cards[j*13+i].rank] + Card.suits[d.cards[j*13+i].suit];
          card.faceup = true;
          $(card.div).click(function () {
              var card = this;
              console.log('click', card.faceup, card.toString());
              if (card.faceup) {
                  card.div = card.frontToBack(card.div);
              } else {
                  card.div = card.backToFront(card.div);
              }
              card.faceup = !card.faceup;
          }.bind(card));
      }
      Card.drawBack(0, 4*111+2);
   }
    </script>
  </body>
</html>
